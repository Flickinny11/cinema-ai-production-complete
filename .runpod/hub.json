{
  "version": "1.0.0",
  "name": "Cinema AI Production Pipeline",
  "description": "Cinema-quality AI video generation with HunyuanVideo, MusicGen, and XTTS",
  "author": "Flickinny11",
  "git_url": "https://github.com/Flickinny11/cinema-ai-production-complete",
  "image_name": "cinema-ai-production",
      "category": "AI/ML",
    "build": {
        "base_image": "nvidia/cuda:11.8.0-devel-ubuntu20.04",
        "system_packages": [
            "python3.8",
            "python3-pip",
            "git",
            "ffmpeg",
            "wget",
            "curl",
            "build-essential",
            "libsndfile1"
        ],
        "python_packages": [
            "torch==2.0.1+cu118",
            "torchvision",
            "torchaudio",
            "transformers==4.40.0",
            "diffusers==0.27.0",
            "accelerate==0.30.0",
            "xformers==0.0.25.post1",
            "safetensors==0.4.2",
            "audiocraft==1.3.0",
            "TTS==0.22.0",
            "moviepy==1.0.3",
            "opencv-python==4.9.0.80",
            "llama-cpp-python==0.2.60",
            "fastapi==0.111.0",
            "uvicorn==0.30.0",
            "runpod==1.6.0",
            "psutil",
            "GPUtil"
        ]
    },
    "template": {
        "name": "cinema-ai-production",
        "container_disk_in_gb": 350,
        "container_registry_auth_id": null,
        "dockerfile_path": "Dockerfile",
        "env": [
            {
                "key": "MODEL_QUALITY",
                "value": "cinema"
            },
            {
                "key": "PARALLEL_PROCESSING",
                "value": "true"
            },
            {
                "key": "HF_HOME",
                "value": "/models/cache"
            }
        ],
        "docker_args": "",
        "is_public": true
    },
  "serverless": {
    "scaled_settings": {
      "min_workers": 0,
      "max_workers": 10,
      "scale_type": "QUEUE_DELAY",
      "scale_value": 5
    },
    "gpu_types": [
      "NVIDIA A100-SXM4-80GB",
      "NVIDIA H100 80GB HBM3"
    ],
    "supported_input_types": [
      "script_to_video",
      "single_scene",
      "health_check"
    ]
  },
  "runtime": {
    "handler": "runpod_handler.py",
    "handler_function": "handler",
    "python_version": "3.8",
    "container_start_timeout": 600
  },
  "schema": {
    "input": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": ["script_to_video", "single_scene", "health_check"],
          "description": "Type of generation request"
        },
        "script": {
          "type": "string",
          "description": "Movie script to process (for script_to_video)"
        },
        "scene": {
          "type": "object",
          "description": "Scene object (for single_scene)"
        }
      },
      "required": ["type"]
    },
    "output": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "description": "Success or error"
        },
        "scenes": {
          "type": "array",
          "description": "Generated scene results"
        },
        "error": {
          "type": "string",
          "description": "Error message if failed"
        }
      }
    }
  }
}
